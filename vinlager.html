<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vinlager - K√∏kkenlager Program</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;background:linear-gradient(135deg, #8B0000 0%, #A52A2A 100%);min-height:100vh;padding:0;margin:0}
header{background:rgba(0,0,0,0.3);padding:16px 24px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 4px 12px rgba(0,0,0,0.2)}
header h1{color:#fff;font-size:24px;font-weight:800;margin:0}
.header-controls{display:flex;gap:12px;align-items:center}
nav{background:rgba(0,0,0,0.4);padding:12px 24px;display:flex;gap:16px;flex-wrap:wrap;box-shadow:0 2px 8px rgba(0,0,0,0.2)}
.menu-item{color:#fff;padding:10px 16px;border-radius:6px;cursor:pointer;font-weight:700;transition:all 0.2s;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2)}
.menu-item:hover{background:rgba(255,255,255,0.2);transform:translateY(-2px)}
.menu-item.active{background:rgba(255,255,255,0.3);border-color:rgba(255,255,255,0.4)}
#content{padding:24px;max-width:1400px;margin:0 auto}
.page{display:none !important}
.page.active{display:block !important}
.hidden{display:none !important}
.card{background:white;border-radius:12px;padding:24px;margin-bottom:24px;box-shadow:0 4px 12px rgba(0,0,0,0.15)}
h2{color:#8B0000;margin-top:0;margin-bottom:16px;font-size:22px;font-weight:800}
button{background:#8B0000;color:white;border:none;padding:10px 20px;border-radius:6px;font-size:14px;font-weight:700;cursor:pointer;transition:all 0.2s}
button:hover{background:#A52A2A;transform:translateY(-1px);box-shadow:0 2px 8px rgba(139,0,0,0.3)}
button.secondary{background:#6c757d}
button.secondary:hover{background:#5a6268}
input,select,textarea{width:100%;padding:10px;border:2px solid #ddd;border-radius:6px;font-size:14px;box-sizing:border-box;margin-bottom:12px}
label{display:block;margin-bottom:6px;font-weight:700;color:#555}
.small{font-size:12px;color:#666}
table{width:100%;border-collapse:collapse;margin-top:16px}
table th,table td{padding:12px;text-align:left;border-bottom:1px solid #ddd}
table th{background:#f5f5f5;font-weight:700;color:#333}
.welcome-card{background:linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);border:3px solid #8B0000;text-align:center;padding:40px}
.welcome-card h2{font-size:32px;color:#8B0000;margin-bottom:20px}
.welcome-card p{font-size:18px;color:#555;line-height:1.8;margin-bottom:30px}
</style>
</head>
<body>
<header>
  <h1>üç∑ Vinlager</h1>
  <div class="header-controls">
    <button class="secondary" onclick="goBackToKitchen()" style="background:rgba(255,255,255,0.2); color:#fff; border:1px solid rgba(255,255,255,0.3);">üè† Tilbage til K√∏kken</button>
  </div>
</header>

<nav id="topnav">
  <span class="menu-item active" data-target="opsaetning" onclick="navClick(event)">‚öôÔ∏è Ops√¶tning Lager</span>
  <span class="menu-item" data-target="vinadmin" onclick="navClick(event)">üç∑ Vin Administration</span>
  <span class="menu-item" data-target="rapporter" onclick="navClick(event)">üìä Rapporter</span>
  <span class="menu-item" data-target="labels" onclick="navClick(event)">üè∑Ô∏è Labels</span>
</nav>

<div id="content">
  <!-- Welcome Page -->
  <section id="welcome" class="page active">
    <div class="card welcome-card">
      <h2>üç∑ Velkommen til Vinlager</h2>
      <p>Dette er vinlager modulet. Her kan du administrere dit vinlager, lave opt√¶llinger og generere rapporter.</p>
      <p>Brug menuen ovenfor til at navigere mellem de forskellige sektioner.</p>
    </div>
  </section>

  <!-- Ops√¶tning Lager -->
  <section id="opsaetning" class="page hidden">
    <div class="card">
      <h2>‚öôÔ∏è Ops√¶tning Lager</h2>
      <p>Konfigurer vinlager indstillinger her.</p>
      <div style="margin-top:20px;">
        <label>Vinlager Lokationer</label>
        <div id="vinlagerLocations"></div>
        <button onclick="addVinlagerLocation()">‚ûï Tilf√∏j Lokation</button>
      </div>
    </div>
  </section>

  <!-- Vin Administration -->
  <section id="vinadmin" class="page hidden">
    <div class="card">
      <h2>üç∑ Vin Administration</h2>
      <p>Administrer dine vine her.</p>
      <div style="margin-top:20px;">
        <button onclick="addVin()">‚ûï Tilf√∏j Vin</button>
        <div id="vinList" style="margin-top:20px;"></div>
      </div>
    </div>
  </section>

  <!-- Rapporter -->
  <section id="rapporter" class="page hidden">
    <div class="card">
      <h2>üìä Rapporter</h2>
      <p>Se og administrer vinlager rapporter her.</p>
      <div id="rapporterList" style="margin-top:20px;"></div>
    </div>
  </section>

  <!-- Labels -->
  <section id="labels" class="page hidden">
    <div class="card">
      <h2>üè∑Ô∏è Labels</h2>
      <p>Generer labels til vine her.</p>
      <div style="margin-top:20px;">
        <button onclick="generateVinLabels()">üè∑Ô∏è Generer Labels</button>
        <div id="labelContainer" style="margin-top:20px;"></div>
      </div>
    </div>
  </section>
</div>

<script>
// Shared data storage key (same as main program)
const STORAGE_KEY = 'k√∏kkenlager_data';

// Navigation
function navClick(event) {
  const target = event.currentTarget.getAttribute('data-target');
  showPage(target);
  
  // Update active menu item
  document.querySelectorAll('.menu-item').forEach(item => {
    item.classList.remove('active');
  });
  event.currentTarget.classList.add('active');
}

function showPage(pageId) {
  document.querySelectorAll('.page').forEach(page => {
    page.classList.remove('active');
    page.classList.add('hidden');
    page.style.display = 'none';
  });
  
  const targetPage = document.getElementById(pageId);
  if (targetPage) {
    targetPage.classList.add('active');
    targetPage.classList.remove('hidden');
    targetPage.style.display = 'block';
  }
}

// Load data from main program
function loadData() {
  try {
    const dataStr = localStorage.getItem(STORAGE_KEY);
    if (dataStr) {
      const data = JSON.parse(dataStr);
      // Use shared data
      return data;
    }
  } catch(err) {
    console.error('Fejl ved indl√¶sning af data:', err);
  }
  return null;
}

// Save data (shared with main program)
function saveData(data) {
  try {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
  } catch(err) {
    console.error('Fejl ved gem af data:', err);
    alert('‚ùå Fejl ved gem af data: ' + err.message);
  }
}

// Vinlager locations
function addVinlagerLocation() {
  const name = prompt('Indtast navn p√• ny lokation:');
  if (!name || !name.trim()) return;
  
  const data = loadData() || {};
  if (!data.vinlagerLokationer) data.vinlagerLokationer = [];
  
  if (!data.vinlagerLokationer.includes(name.trim())) {
    data.vinlagerLokationer.push(name.trim());
    saveData(data);
    renderVinlagerLocations();
  }
}

function renderVinlagerLocations() {
  const data = loadData() || {};
  const locations = data.vinlagerLokationer || [];
  const container = document.getElementById('vinlagerLocations');
  
  if (locations.length === 0) {
    container.innerHTML = '<p class="small">Ingen lokationer oprettet endnu.</p>';
    return;
  }
  
  container.innerHTML = locations.map((loc, idx) => `
    <div style="display:flex; align-items:center; gap:10px; padding:10px; background:#f5f5f5; border-radius:6px; margin-bottom:8px;">
      <span style="flex:1;">${loc}</span>
      <button onclick="removeVinlagerLocation(${idx})" style="background:#dc3545; padding:6px 12px; font-size:12px;">üóëÔ∏è Slet</button>
    </div>
  `).join('');
}

function removeVinlagerLocation(index) {
  if (!confirm('Er du sikker p√• at du vil slette denne lokation?')) return;
  
  const data = loadData() || {};
  if (data.vinlagerLokationer) {
    data.vinlagerLokationer.splice(index, 1);
    saveData(data);
    renderVinlagerLocations();
  }
}

// Vin administration
function addVin() {
  alert('Vin administration funktionalitet kommer snart!');
}

function generateVinLabels() {
  alert('Label generering funktionalitet kommer snart!');
}

// Go back to kitchen program
function goBackToKitchen() {
  // S√¶t session flag s√• brugeren ikke skal logge ind igen
  sessionStorage.setItem('k√∏kkenlager_session_active', 'true');
  window.location.href = 'k√∏kkenlagerprogram.html';
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
  // Ensure welcome page is visible
  const welcomePage = document.getElementById('welcome');
  if (welcomePage) {
    welcomePage.classList.add('active');
    welcomePage.classList.remove('hidden');
    welcomePage.style.display = 'block';
  }
  
  // Hide other pages
  document.querySelectorAll('.page').forEach(page => {
    if (page.id !== 'welcome') {
      page.classList.remove('active');
      page.classList.add('hidden');
      page.style.display = 'none';
    }
  });
  
  renderVinlagerLocations();
});
</script>
</body>
</html>

